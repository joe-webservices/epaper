<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Manage Papers - Admin Portal</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <!-- Custom CSS -->
    <link href="css/admin.css" rel="stylesheet" />
  </head>
  <body>
    <div class="admin-layout">
      <!-- Include Header -->
      <div id="header"></div>
      <!-- Include Sidebar -->
      <div id="sidebar"></div>
      <!-- Main Content -->
      <main class="admin-main">
        <div class="container-fluid">
          <h2 class="mb-4">Manage Papers</h2>
          <div class="row mb-3">
            <div class="col-md-6 mb-2 mb-md-0">
              <input
                type="text"
                id="searchInput"
                class="form-control"
                placeholder="Search by name or date..."
              />
            </div>
            <div class="col-md-3">
              <select id="sortSelect" class="form-select">
                <option value="date-desc">Sort by Date (Newest)</option>
                <option value="date-asc">Sort by Date (Oldest)</option>
                <option value="name-asc">Sort by Name (A-Z)</option>
                <option value="name-desc">Sort by Name (Z-A)</option>
                <option value="views-desc">Sort by Views</option>
              </select>
            </div>
            <div class="col-md-3 text-end"></div>
          </div>
          <div class="row" id="papersList">
            <!-- Paper cards will be inserted here -->
          </div>
        </div>
      </main>
    </div>
    <!-- Toast Container -->
    <div class="toast-container">
      <div
        id="liveToast"
        class="toast"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
      >
        <div class="toast-body"></div>
      </div>
    </div>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom Scripts -->
    <script src="js/manage.js"></script>
    <script>
      // Load header and sidebar
      fetch("components/admin-header.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("header").innerHTML = data;
          // Bind logout button after header loads
          bindLogoutBtn(auth);
        });
      fetch("components/admin-sidebar.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("sidebar").innerHTML = data;
          // Set active nav item
          document.getElementById("navManage").classList.add("active");
        });
    </script>
  </body>
</html>
